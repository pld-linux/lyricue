--- lyricue-3.0.25/configure~	2010-10-10 02:23:43.000000000 +0300
+++ lyricue-3.0.25/configure	2011-06-21 18:39:15.000000000 +0300
@@ -13331,12 +13331,12 @@
     pkg_cv_CLUTTER_CFLAGS="$CLUTTER_CFLAGS"
  elif test -n "$PKG_CONFIG"; then
     if test -n "$PKG_CONFIG" && \
-    { { $as_echo "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10\""; } >&5
-  ($PKG_CONFIG --exists --print-errors "clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10") 2>&5
+    { { $as_echo "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0") 2>&5
   ac_status=$?
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }; then
-  pkg_cv_CLUTTER_CFLAGS=`$PKG_CONFIG --cflags "clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10" 2>/dev/null`
+  pkg_cv_CLUTTER_CFLAGS=`$PKG_CONFIG --cflags "clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@ -13347,12 +13347,12 @@
     pkg_cv_CLUTTER_LIBS="$CLUTTER_LIBS"
  elif test -n "$PKG_CONFIG"; then
     if test -n "$PKG_CONFIG" && \
-    { { $as_echo "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10\""; } >&5
-  ($PKG_CONFIG --exists --print-errors "clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10") 2>&5
+    { { $as_echo "$as_me:${as_lineno-$LINENO}: \$PKG_CONFIG --exists --print-errors \"clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0\""; } >&5
+  ($PKG_CONFIG --exists --print-errors "clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0") 2>&5
   ac_status=$?
   $as_echo "$as_me:${as_lineno-$LINENO}: \$? = $ac_status" >&5
   test $ac_status = 0; }; then
-  pkg_cv_CLUTTER_LIBS=`$PKG_CONFIG --libs "clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10" 2>/dev/null`
+  pkg_cv_CLUTTER_LIBS=`$PKG_CONFIG --libs "clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0" 2>/dev/null`
 else
   pkg_failed=yes
 fi
@@ -13372,14 +13372,14 @@
         _pkg_short_errors_supported=no
 fi
         if test $_pkg_short_errors_supported = yes; then
-	        CLUTTER_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors "clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10" 2>&1`
+	        CLUTTER_PKG_ERRORS=`$PKG_CONFIG --short-errors --print-errors "clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0" 2>&1`
         else
-	        CLUTTER_PKG_ERRORS=`$PKG_CONFIG --print-errors "clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10" 2>&1`
+	        CLUTTER_PKG_ERRORS=`$PKG_CONFIG --print-errors "clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0" 2>&1`
         fi
 	# Put the nasty error message in config.log where it belongs
 	echo "$CLUTTER_PKG_ERRORS" >&5
 
-	as_fn_error $? "Package requirements (clutter-1.0 clutter-gst-0.10 clutter-gtk-0.10) were not met:
+	as_fn_error $? "Package requirements (clutter-1.0 clutter-gst-1.0 clutter-gtk-1.0) were not met:
 
 $CLUTTER_PKG_ERRORS
 
--- lyricue-3.0.25/src/display.c~	2010-12-12 08:18:17.000000000 +0200
+++ lyricue-3.0.25/src/display.c	2011-06-21 19:14:14.000000000 +0300
@@ -586,7 +586,7 @@
             bg_is_video = g_timeout_add_seconds(1, (GSourceFunc) update_tracker, NULL);
             video_loop = loop;
             //gboolean ret = gst_element_seek_simple(clutter_gst_video_texture_get_playbin(CLUTTER_GST_VIDEO_TEXTURE(background)), gst_format_get_by_nick("title"), GST_SEEK_FLAG_FLUSH | GST_SEEK_FLAG_KEY_UNIT, 1);
-        gst_element_seek(clutter_gst_video_texture_get_playbin(CLUTTER_GST_VIDEO_TEXTURE(background)), 1.0, GST_FORMAT_TIME, GST_SEEK_FLAG_FLUSH, GST_SEEK_TYPE_SET, 10 * GST_SECOND, 0,0);
+        gst_element_seek(clutter_gst_video_texture_get_pipeline(CLUTTER_GST_VIDEO_TEXTURE(background)), 1.0, GST_FORMAT_TIME, GST_SEEK_FLAG_FLUSH, GST_SEEK_TYPE_SET, 10 * GST_SECOND, 0,0);
 
         } else {
             clutter_media_set_playing (CLUTTER_MEDIA (background), TRUE);
@@ -852,7 +852,7 @@
 {
     if (bg_is_video) {
         l_debug("Skipping to %d",duration);
-        gst_element_seek(clutter_gst_video_texture_get_playbin(CLUTTER_GST_VIDEO_TEXTURE(background)), 1.0, GST_FORMAT_TIME, GST_SEEK_FLAG_FLUSH, GST_SEEK_TYPE_SET, duration * GST_SECOND, 0,0);
+        gst_element_seek(clutter_gst_video_texture_get_pipeline(CLUTTER_GST_VIDEO_TEXTURE(background)), 1.0, GST_FORMAT_TIME, GST_SEEK_FLAG_FLUSH, GST_SEEK_TYPE_SET, duration * GST_SECOND, 0,0);
     }
 }
 
